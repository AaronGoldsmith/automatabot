(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,n,t){e.exports=t(56)},55:function(e,n,t){},56:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),l=t(7),c=t.n(l),o=t(22),i=t(5),u=t(4),s=t.n(u),h="GET_BOARD",g="SET_PATH",p="SET_RESULT",d=t(8),v=t(6),f=t(24),m=t(25),b=t(27),E=t(26),k=t(28),y=function(e){var n=e.alive;return r.a.createElement("div",{className:"cell ".concat(n?"o":"x")})},j=function(e){var n=e.cells;return n?n.map(function(e,n){return t=e,a=n,r.a.createElement("div",{key:a,className:"cell-row row-".concat(a)},t.map(function(e,n){return r.a.createElement(y,{key:n,alive:e})}));var t,a}):null},w=function(e){return new Promise(function(n){var t=e.cells.map(function(n,t){return O(t,e)});n(Object(i.a)({},e,{cells:t}))})},O=function(e,n){var t=n.rules,a=n.cells,r=a[e],l=t.birth,c=t.survival;return r.map(function(n,t){var o=C(e,t,a).map(function(e){return a[e.x][e.y]}).filter(function(e){return 1===e}).length;return 1===r[t]?c.includes(o)?1:0:l.includes(o)?1:0})},C=function(e,n,t){var a=[],r=t?t.length:0;r>t[0].length&&console.warn("warning");for(var l=e-1;l<=e+1;l++)for(var c=n-1;c<=n+1;c++)e===l&&n===c||l>=0&&c>=0&&l<r&&c<t[c].length&&a.push({x:l,y:c});return a},S="https://api.noopschallenge.com",T="/automatabot/challenges/new",B={"content-type":"application/json"};var G=function(e){function n(e){var t;return Object(f.a)(this,n),(t=Object(b.a)(this,Object(E.a)(n).call(this,e))).handleSend=function(){var e=t.state,n=e.url,a=e.challenge.cells;t.props.sendGame(n,{cells:a})},t.updateBoard=function(){var e=t.state,n=e.challenge,a=e.generation;Promise.resolve(w(n)).then(function(e){var n=a+1;t.setState({challenge:e,generation:n})})},t.tick=function(){var e=t.state.running;!t.timer&&e?t.timer=setInterval(t.updateBoard,100):t.tock()},t.ageToCompletion=function(){var e=t.state,n=e.challenge;e.generation<n.generation&&t.updateBoard().then(t.ageToCompletion())},t.handleRun=function(){var e=t.state.running;t.setState({running:!e})},t.state={running:!1,generation:0},t.timer=void 0,t.age=0,t}return Object(k.a)(n,e),Object(m.a)(n,[{key:"tock",value:function(){clearInterval(this.timer),this.timer=null}},{key:"componentDidUpdate",value:function(e,n){this.props.Challenge!==e.Challenge&&this.props.Challenge&&this.setState({challenge:this.props.Challenge}),n.running!==this.state.running&&this.tick()}},{key:"componentDidMount",value:function(){this.props.getGame()}},{key:"render",value:function(){var e=this.state,n=e.challenge,t=e.running,a=n?n.cells:null;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"cellWrap"},r.a.createElement(j,{cells:a})),r.a.createElement("button",{onClick:this.handleSend},"send"),r.a.createElement("button",{onClick:this.handleRun},t?"pause":"start"))}}]),n}(r.a.Component);var x=Object(d.b)(function(e){return{Challenge:e.challenge}},{getGame:function(){var e="".concat(S).concat(T);return function(n){s.a.get(e,{headers:B}).then(function(e){n({type:h,challenge:e.data.challenge}),n({type:g,data:e.data.challengePath})}).catch(function(e){return console.log(e)})}},sendGame:function(e,n){return function(t){s.a.post(e,n,{headers:B}).then(function(e){console.log(e),t({type:p,data:e.result})}).catch(function(e){return console.log(e)})}}})(G);t(55);var N=document.getElementById("root"),P=Object(v.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{challenge:{},path:void 0,result:void 0},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case h:return Object(i.a)({},e,{challenge:n.challenge});case g:return Object(i.a)({},e,{path:n.data});case p:return Object(i.a)({},e,{result:n.data});default:return e}},Object(v.a)(o.a));c.a.render(r.a.createElement(d.a,{store:P}," ",r.a.createElement(function(){return r.a.createElement("div",{className:"App"},r.a.createElement(x,null))},null)," "),N)}},[[29,1,2]]]);
//# sourceMappingURL=main.c09d2c74.chunk.js.map