(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,n,t){e.exports=t(56)},55:function(e,n,t){},56:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(7),l=t.n(c),o=t(5),i=t(4),u=t.n(i),s="GET_BOARD",h="SET_PATH",g="SET_RESULT",p=t(22),d=t(6),f=t(8),v=t(24),m=t(25),b=t(27),E=t(26),k=t(28),y=function(e){var n=e.alive;return r.a.createElement("div",{className:"cell ".concat(n?"o":"x")})},j=function(e){var n=e.cells;return n?n.map(function(e,n){return t=e,a=n,r.a.createElement("div",{key:a,className:"cell-row row-".concat(a)},t.map(function(e,n){return r.a.createElement(y,{key:n,alive:e})}));var t,a}):null},O=function(e){return new Promise(function(n){var t=e.cells.map(function(n,t){return w(t,e)});n(Object(o.a)({},e,{cells:t}))})},w=function(e,n){var t=n.rules,a=n.cells,r=a[e],c=t.birth,l=t.survival;return r.map(function(n,t){var o=C(e,t,a).map(function(e){return a[e.x][e.y]}).filter(function(e){return 1===e}).length;return 1===r[t]?l.includes(o)?1:0:c.includes(o)?1:0})},C=function(e,n,t){for(var a=[],r=t.length,c=e-1;c<=e+1;c++)for(var l=n-1;l<=n+1;l++)e===c&&n===l||c>=0&&l>=0&&c<r&&l<t[l].length&&a.push({x:c,y:l});return a},S="https://api.noopschallenge.com",T="/automatabot/challenges/start",B={"content-type":"application/json"};var G=function(e){function n(e){var t;return Object(v.a)(this,n),(t=Object(b.a)(this,Object(E.a)(n).call(this,e))).handleSend=function(){var e=t.state,n=e.url,a=e.challenge.cells;t.props.sendGame(n,{cells:a})},t.updateBoard=function(){var e=t.state,n=e.challenge,a=e.generation;Promise.resolve(O(n)).then(function(e){var n=a+1;t.setState({challenge:e,generation:n})})},t.tick=function(){var e=t.state.running;!t.timer&&e?t.timer=setInterval(t.updateBoard,100):t.tock()},t.ageToCompletion=function(){var e=t.state,n=e.challenge;e.generation<n.generation&&t.updateBoard().then(t.ageToCompletion())},t.handleRun=function(){var e=t.state.running;t.setState({running:!e})},t.state={running:!1,generation:0},t.timer=void 0,t.age=0,t}return Object(k.a)(n,e),Object(m.a)(n,[{key:"tock",value:function(){clearInterval(this.timer)}},{key:"componentDidUpdate",value:function(e,n){this.props.Challenge!==e.Challenge&&this.props.Challenge&&this.setState({challenge:this.props.Challenge}),n.running!==this.state.running&&this.tick()}},{key:"componentDidMount",value:function(){this.props.getGame()}},{key:"render",value:function(){var e=this.state,n=e.challenge,t=e.running,a=n?n.cells:null;n&&n.generations;return r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{cells:a}),r.a.createElement("button",{onClick:this.handleSend},"send"),r.a.createElement("button",{onClick:this.handleRun},t?"pause":"start"))}}]),n}(r.a.Component);var x=Object(f.b)(function(e){return{Challenge:e.challenge}},{getGame:function(){var e="".concat(S).concat(T);return function(n){u.a.get(e,{headers:B}).then(function(e){n({type:s,challenge:e.data.challenge}),n({type:h,data:e.data.challengePath})}).catch(function(e){return console.log(e)})}},sendGame:function(e,n){return function(t){u.a.post(e,n,{headers:B}).then(function(e){console.log(e),t({type:g,data:e.result})}).catch(function(e){return console.log(e)})}}})(G);t(55);var P=document.getElementById("root"),R=Object(d.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{challenge:{},path:void 0,result:void 0},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case s:return Object(o.a)({},e,{challenge:n.challenge});case h:return Object(o.a)({},e,{path:n.data});case g:return Object(o.a)({},e,{result:n.data});default:return e}},{},Object(d.a)(p.a));l.a.render(r.a.createElement(f.a,{store:R},r.a.createElement(function(){return r.a.createElement("div",{className:"App"},r.a.createElement(x,null))},null)),P)}},[[29,1,2]]]);
//# sourceMappingURL=main.b0a265b0.chunk.js.map